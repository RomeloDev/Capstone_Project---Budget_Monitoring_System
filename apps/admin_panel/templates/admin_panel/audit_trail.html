{% extends "admin_base_template/dashboard.html" %}

{% block title %}Audit Trail{% endblock title %}

{% block main-content %}
<div class="flex flex-col w-full">
    <header class="bg-blue-600 px-4 py-2 text-white shadow-sm rounded-lg">
        <h1 class="text-[20px] font-bold">Audit Trail</h1>
        <p class="text-sm text-blue-100 mt-1">Manage and monitor end user and approving officer activity logs.</p>
    </header>
<main class="flex-1 px-6 py-8 bg-gray-100 space-y-10">
    {% comment %} <header class="dashboard-header">
        <h1 class="text-3xl font-bold mb-2">Audit Trail</h1>
        <p class="text-gray-200">Manage and monitor end user and approving officer activity logs.</p>
    </header> {% endcomment %}

    <!-- Filter Section -->
    <section class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Filter Activity Logs</h2>

    <form method="get" class="flex flex-col md:flex-row md:items-end flex-wrap gap-4">

        <!-- End User Filter -->
        <div class="w-full md:w-1/4">
        <label for="user_filter" class="block text-sm font-medium text-gray-700 mb-1">Select End User</label>
        <select id="user_filter" name="user_id" class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
            <option value="">-- All End Users --</option>
            <option value="1">MFO1_CCJ</option>
            <option value="2">MFO1-CCIS</option>
            <option value="3">MFO1_CTAS</option>
            <!-- Add more dynamically if needed -->
        </select>
        </div>

        <!-- Date From -->
        <div class="w-full md:w-1/4">
        <label for="date_from" class="block text-sm font-medium text-gray-700 mb-1">From Date</label>
        <input type="date" id="date_from" name="date_from" class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
        </div>

        <!-- Date To -->
        <div class="w-full md:w-1/4">
        <label for="date_to" class="block text-sm font-medium text-gray-700 mb-1">To Date</label>
        <input type="date" id="date_to" name="date_to" class="w-full border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">
        </div>

        <!-- Submit Button -->
        <div class="w-full md:w-auto">
        <button type="submit" class="bg-blue-600 text-white px-5 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition w-full md:w-auto">
            Filter Logs
        </button>
        </div>
        
    </form>
    </section>


    <!-- Audit Trail Table -->
    <section class="bg-white p-4 rounded-lg shadow-md overflow-x-auto">
        <h2 class="text-xl font-semibold mb-4">Recent Activity</h2>
        <div class="overflow-x-auto rounded-md">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-blue-600 text-white">
                <tr>
                    <th class="py-2 px-4 border-b text-left">Date & Time</th>
                    <th class="py-2 px-4 border-b text-left">User</th>
                    <th class="py-2 px-4 border-b text-left">Department</th>
                    <th class="py-2 px-4 border-b text-left">Action Type</th>
                    <th class="py-2 px-4 border-b text-left">Description</th>
                </tr>
            </thead>
            <tbody>
                <!-- Static example rows (replace with dynamic loop) -->
                <tr>
                    <td class="py-2 px-4 border-b">2025-04-10 09:45 AM</td>
                    <td class="py-2 px-4 border-b">MFO1_CCJ</td>
                    <td class="py-2 px-4 border-b">College of Criminal Justice</td>
                    <td class="py-2 px-4 border-b">Purchase Request</td>
                    <td class="py-2 px-4 border-b">Submitted a purchase request for office supplies.</td>
                </tr>
                <tr>
                    <td class="py-2 px-4 border-b">2025-04-10 09:10 AM</td>
                    <td class="py-2 px-4 border-b">MFO1_CTAS</td>
                    <td class="py-2 px-4 border-b">College of Technology and Allied Sciences</td>
                    <td class="py-2 px-4 border-b">Budget Re-Alignment</td>
                    <td class="py-2 px-4 border-b">Re-aligned â‚±1,500 from Office Equipment to Travel Fund.</td>
                </tr>
                <tr>
                    <td class="py-2 px-4 border-b">2025-04-09 04:20 PM</td>
                    <td class="py-2 px-4 border-b">MFO1_CCIS</td>
                    <td class="py-2 px-4 border-b">College of Computing and Information Sciences</td>
                    <td class="py-2 px-4 border-b">Activity Design</td>
                    <td class="py-2 px-4 border-b">Submitted an activity design for financial literacy seminar.</td>
                </tr>
                <!-- More static rows as needed -->
            </tbody>
        </table>
    </div>
    </section>
</main>
</div>
{% endblock main-content %}
